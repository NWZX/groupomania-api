{"version":3,"sources":["serviceWorker.ts","component/global-component/UIButton.tsx","component/auth/Selector/Selector.tsx","services/AuthServices.ts","component/auth/Auth.tsx","component/auth/SignIn/SignIn.tsx","component/auth/SignUp/SignUp.tsx","models/FeedBlock.ts","component/global-component/RowFluid.tsx","services/PostServices.ts","component/feed-block-form/FeedBlockForm.tsx","component/global-component/tab-picker/tabPicker.tsx","component/global-component/feed-block/FeedBlock.tsx","component/feed/Home.tsx","component/global-component/protected-route/ProtectedRoute.tsx","component/global-component/comment-block/CommentBlock.tsx","services/CommentServices.ts","component/feed/single/Single.tsx","component/profile/Profile.tsx","component/404/404.tsx","App.tsx","index.tsx","ressource/logo_128.png","ressource/user-solid.svg"],"names":["isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","UIButton","props","handleClick","bind","e","preventDefault","this","onClick","classItem","className","style","boxShadow","Depths","depth8","text","React","Component","Selector","handleSelect","onSelect","Container","Row","SelectTypes","SignIn","SignUp","host","AuthService","username","userId","param","data","JSON","stringify","query","variables","method","url","headers","Authorization","store","get","axios","response","user","checkAuth","Error","errors","message","password","createUser","loginUser","delUser","request","status","remove","set","replace","undefined","handleSign","handleEnterPress","handleChangeUsername","handleChangePassword","result","setState","onSign","key","target","value","Alert","variant","renderError","type","id","placeholder","onChange","onKeyPress","password_1","password_2","handleChangePassword_1","handleChangePassword_2","FeedBlockContentType","FeedBlockCategorie","Auth","selection","Empty","handleSelection","handleSignIn","handleSignUp","document","title","onAuth","src","logo","alt","width","height","renderSelected","RowFluid","children","PostServices","limit","timestamp","posts","post","categorie","file","next","fileUrl","formData","FormData","append","configFile","dataQ","delPost","FormMode","TabPicker","numberOfElement","elementList","length","elementPicked","name","selected","href","index","element","push","generateTab","ClassName","generateList","FeedBlock","handleButtonEdit","handleButtonPost","handleButtonDel","history","onDelete","toFixed","toString","time","Date","now","Text","Image","Video","showButton","cm_nb","commentsNumber","editButton","edit","Col","delButton","delete","commentButton","comment","commentNumberConvert","fluid","animation","MotionAnimations","slideDownIn","renderTimestamp","renderByType","renderButton","Home","search","categorieList","Favoris","Media","Talk","Advert","categorieFocused","setDefaultTab","loadItemLimit","lastTimestamp","handleSearch","handleTabChange","handleNewPost","handleProfile","getUser","handleDelete","getData","val","temp","splice","findIndex","n","getPosts","filter","i","check","authorization","includes","userIcon","renderData","ProtectedRoute","isAuth","to","path","CommentBlock","getUsername","slideRightIn","CommentServices","postId","addComment","Single","Number","parseFloat","params","commentText","handleBack","handleNewComment","handleTextChange","onscroll","header","getElementById","pageYOffset","offsetTop","classList","add","getPost","comments","c","marginTop","htmlFor","renderComment","Profile","getAuthorization","renderAuthorization","handleLogOut","sm","FeedBlockFrom","allowedImageType","allowedVideoType","handleTitle","handleTextArea","handleTypeSelect","handleCategorieSelect","handleImageChange","handleVideoChange","handleSend","mode","split","doc","display","forEach","checked","parseInt","indexOf","rows","accept","files","item","size","FileReader","fr","onload","img_file","readAsDataURL","new","addPost","valueOf","editPost","renderTitle","renderTypeSelect","Page404","App","token","client","ApolloClient","uri","cache","InMemoryCache","handleAuth","ApolloProvider","exact","render","component","ReactDOM","StrictMode","URL","process","origin","addEventListener","fetch","contentType","ready","unregister","reload","checkValidServiceWorker","module","exports"],"mappings":"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","file":"static/js/main.3ef059e1.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport { Depths } from \"@uifabric/fluent-theme/lib/fluent/FluentDepths\";\nimport \"./UIButton.scss\";\n\ninterface IButtonProps {\n  text: string;\n  className?: string;\n  onClick: () => void | Promise<void>;\n}\n\nclass UIButton extends React.Component<IButtonProps> {\n  /**\n   *\n   */\n  constructor(props: IButtonProps) {\n    super(props);\n    this.state = {};\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick(\n    e: React.MouseEvent<HTMLButtonElement, globalThis.MouseEvent>\n  ): void {\n    e.preventDefault();\n    this.props.onClick();\n  }\n\n  render(): JSX.Element {\n    const classItem = this.props.className ? \" \" + this.props.className : \"\";\n    return (\n      <button\n        className={\"bg-light\" + classItem}\n        style={{ boxShadow: Depths.depth8 }}\n        onClick={this.handleClick}\n      >\n        {this.props.text}\n      </button>\n    );\n  }\n}\n\nexport default UIButton;\n","import React from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport UIButton from \"../../global-component/UIButton\";\nimport { SelectTypes } from \"../Auth\";\nimport \"./Selector.scss\";\n\ninterface ISelectorProps {\n  onSelect: (state: SelectTypes) => void;\n}\n\nclass Selector extends React.Component<ISelectorProps> {\n  constructor(props: ISelectorProps) {\n    super(props);\n    this.state = {};\n    this.handleSelect = this.handleSelect.bind(this);\n  }\n\n  handleSelect(e: SelectTypes): void {\n    this.props.onSelect(e);\n  }\n\n  /**\n   * render\n   */\n  public render(): JSX.Element {\n    return (\n      <Container className=\"align-vertical\">\n        <h1 className=\"text-dark\">Groupomania</h1>\n        <Row className=\"justify-content-center\">\n          <UIButton\n            text=\"Connexion\"\n            className=\"col-8\"\n            onClick={() => {\n              this.handleSelect(SelectTypes.SignIn);\n            }}\n          />\n        </Row>\n        <Row className=\"justify-content-center\">\n          <UIButton\n            text=\"Crée un compte\"\n            className=\"col-8\"\n            onClick={() => {\n              this.handleSelect(SelectTypes.SignUp);\n            }}\n          />\n        </Row>\n      </Container>\n    );\n  }\n}\n\nexport default Selector;\n","import axios, { AxiosRequestConfig, AxiosResponse } from \"axios\";\nimport store from \"store\";\n\nconst host = \"http://207.180.251.133:5000\";\n\nexport interface IAuthServiceResponse {\n  token: string;\n  username: string;\n}\ninterface ICreateUserResponse {\n  data: {\n    createUser: IAuthServiceResponse;\n  };\n}\ninterface ILoginUserResponse {\n  data: {\n    loginUser: IAuthServiceResponse;\n  };\n}\ninterface IGetUserResponse {\n  data: {\n    user: IUser;\n  };\n}\ninterface IDelUserResponse {\n  data: {\n    delUser: boolean;\n  };\n}\nexport interface IUser {\n  id: number;\n  username: string;\n  authorization: number;\n}\n\nexport class AuthService {\n  static async getUser(\n    username?: string,\n    userId?: number\n  ): Promise<IUser | Error> {\n    try {\n      let param = \"\";\n      if (!username && !userId) {\n        param = ``;\n      } else if (username) {\n        param = `(username: \"${username}\")`;\n      } else if (userId) {\n        param = `(userId: ${userId})`;\n      }\n      const data = JSON.stringify({\n        query: `{\n            user${param}{\n              id\n              username\n              authorization\n            }\n        }`,\n        variables: {},\n      });\n\n      const config: AxiosRequestConfig = {\n        method: \"post\",\n        url: host + \"/graphql\",\n        headers: {\n          Authorization: `Bearer ${store.get(\"token\", \"\")}`,\n          \"Content-Type\": \"application/json\",\n        },\n        data: data,\n      };\n\n      const response: AxiosResponse<IGetUserResponse> = await axios(config);\n      return response.data.data.user;\n    } catch (error) {\n      checkAuth(error);\n      return new Error(error.response.data.errors[0].message);\n    }\n  }\n  static async createUser(\n    username: string,\n    password: string\n  ): Promise<IAuthServiceResponse | Error> {\n    try {\n      const data = JSON.stringify({\n        query: `mutation{\n            createUser(username: \"${username}\", password: \"${password}\"){\n              token\n              username\n            }\n        }`,\n        variables: {},\n      });\n\n      const config: AxiosRequestConfig = {\n        method: \"post\",\n        url: host + \"/graphql\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        data: data,\n      };\n\n      const response: AxiosResponse<ICreateUserResponse> = await axios(config);\n      return response.data.data.createUser;\n    } catch (error) {\n      checkAuth(error);\n      return new Error(error.response.data.errors[0].message);\n    }\n  }\n\n  static async loginUser(\n    username: string,\n    password: string\n  ): Promise<IAuthServiceResponse | Error> {\n    try {\n      const data = JSON.stringify({\n        query: `mutation{\n            loginUser(username: \"${username}\", password: \"${password}\"){\n              token\n              username\n            }\n        }`,\n        variables: {},\n      });\n\n      const config: AxiosRequestConfig = {\n        method: \"post\",\n        url: host + \"/graphql\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        data: data,\n      };\n\n      const response: AxiosResponse<ILoginUserResponse> = await axios(config);\n      return response.data.data.loginUser;\n    } catch (error) {\n      checkAuth(error);\n      return new Error(error.response.data.errors[0].message);\n    }\n  }\n  static async delUser(username: string): Promise<boolean | Error> {\n    try {\n      const data = JSON.stringify({\n        query: `mutation{\n            delUser(username: \"${username}\")\n        }`,\n        variables: {},\n      });\n\n      const config: AxiosRequestConfig = {\n        method: \"post\",\n        url: host + \"/graphql\",\n        headers: {\n          Authorization: `Bearer ${store.get(\"token\", \"\")}`,\n          \"Content-Type\": \"application/json\",\n        },\n        data: data,\n      };\n\n      const response: AxiosResponse<IDelUserResponse> = await axios(config);\n      return response.data.data.delUser;\n    } catch (error) {\n      checkAuth(error);\n      return new Error(error.response.data.errors[0].message);\n    }\n  }\n}\nfunction checkAuth(error: any) {\n  if (error.request.status === 401) {\n    store.remove(\"user\");\n    store.remove(\"token\");\n    store.set(\"isAuth\", false);\n    window.location.replace(\"/\");\n  }\n}\n","import React from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport { Depths } from \"@uifabric/fluent-theme/lib/fluent/FluentDepths\";\nimport \"./Auth.scss\";\n\nimport logo from \"../../ressource/logo_128.png\";\n\nimport Selector from \"./Selector/Selector\";\nimport SignIn from \"./SignIn/SignIn\";\nimport SignUp from \"./SignUp/SignUp\";\nimport { IAuthServiceResponse } from \"../../services/AuthServices\";\n\nexport enum SelectTypes {\n  \"SignIn\",\n  \"SignUp\",\n  \"Empty\",\n}\n\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\ninterface ILoginProps {\n  onAuth: (response: IAuthServiceResponse) => void;\n}\ninterface ILoginStates {\n  selection: SelectTypes;\n}\n\nclass Auth extends React.Component<ILoginProps, ILoginStates> {\n  constructor(props: ILoginProps) {\n    super(props);\n    this.state = {\n      selection: SelectTypes.Empty,\n    };\n    this.handleSelection = this.handleSelection.bind(this);\n    this.handleSignIn = this.handleSignIn.bind(this);\n    this.handleSignUp = this.handleSignUp.bind(this);\n  }\n  componentDidMount(): void {\n    document.title = \"SignIn/SignUp\";\n  }\n\n  handleSelection(e: SelectTypes): void {\n    this.setState({ selection: e });\n  }\n  handleSignIn(response: IAuthServiceResponse): void {\n    this.props.onAuth(response);\n  }\n  handleSignUp(response: IAuthServiceResponse): void {\n    this.props.onAuth(response);\n  }\n  renderSelected(selection: SelectTypes): JSX.Element {\n    switch (selection) {\n      case SelectTypes.SignIn:\n        return <SignIn onSign={this.handleSignIn} />;\n      case SelectTypes.SignUp:\n        return <SignUp onSign={this.handleSignUp} />;\n      default:\n        return <Selector onSelect={this.handleSelection} />;\n    }\n  }\n  render(): JSX.Element {\n    return (\n      <Container\n        className=\"ac-block align-vertical\"\n        style={{ boxShadow: Depths.depth8 }}\n      >\n        <Row>\n          <img\n            className=\"m-auto\"\n            src={logo}\n            alt=\"\"\n            width=\"100px\"\n            height=\"100px\"\n          ></img>\n        </Row>\n        <Row>{this.renderSelected(this.state.selection)}</Row>\n      </Container>\n    );\n  }\n}\n\nexport default Auth;\n","import React, { Component } from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Alert from \"react-bootstrap/Alert\";\nimport UIButton from \"../../global-component/UIButton\";\nimport {\n  IAuthServiceResponse,\n  AuthService,\n} from \"../../../services/AuthServices\";\n\ninterface ISignInProps {\n  onSign: (response: IAuthServiceResponse) => void;\n}\ninterface ISignInState {\n  error?: Error;\n  username: string;\n  password: string;\n}\n\nexport default class SignIn extends Component<ISignInProps, ISignInState> {\n  /**\n   *\n   */\n  constructor(props: ISignInProps) {\n    super(props);\n    this.state = {\n      error: undefined,\n      username: \"\",\n      password: \"\",\n    };\n    this.handleSign = this.handleSign.bind(this);\n    this.handleEnterPress = this.handleEnterPress.bind(this);\n    this.handleChangeUsername = this.handleChangeUsername.bind(this);\n    this.handleChangePassword = this.handleChangePassword.bind(this);\n  }\n\n  async handleSign(): Promise<void> {\n    const result = await AuthService.loginUser(\n      this.state.username,\n      this.state.password\n    );\n    if (result instanceof Error) {\n      this.setState({ error: result });\n    } else {\n      this.props.onSign(result);\n    }\n  }\n  async handleEnterPress(\n    e: React.KeyboardEvent<HTMLInputElement>\n  ): Promise<void> {\n    if (e.key === \"Enter\") {\n      await this.handleSign();\n    }\n  }\n  handleChangeUsername(e: React.ChangeEvent<HTMLInputElement>): void {\n    this.setState({ username: e.target.value, error: undefined });\n  }\n  handleChangePassword(e: React.ChangeEvent<HTMLInputElement>): void {\n    this.setState({ password: e.target.value, error: undefined });\n  }\n\n  renderError(): JSX.Element | null {\n    if (this.state.error) {\n      return (\n        <Row className=\"justify-content-center\">\n          <Alert variant=\"danger\">{this.state.error.message}</Alert>\n        </Row>\n      );\n    } else {\n      return null;\n    }\n  }\n\n  render(): JSX.Element {\n    return (\n      <Container className=\"align-vertical\">\n        {this.renderError()}\n        <Row className=\"justify-content-center\">\n          <input\n            type=\"text\"\n            id=\"username\"\n            className=\"col-8\"\n            placeholder=\"Nom d'utilisateur\"\n            value={this.state.username}\n            onChange={this.handleChangeUsername}\n          />\n        </Row>\n        <Row className=\"justify-content-center\">\n          <input\n            type=\"password\"\n            id=\"password\"\n            className=\"col-8\"\n            placeholder=\"Mot de passe\"\n            value={this.state.password}\n            onChange={this.handleChangePassword}\n            onKeyPress={this.handleEnterPress}\n          />\n        </Row>\n        <Row className=\"justify-content-center\">\n          <UIButton\n            text=\"Valider\"\n            className=\"col-8\"\n            onClick={this.handleSign}\n          />\n        </Row>\n      </Container>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Alert from \"react-bootstrap/Alert\";\nimport UIButton from \"../../global-component/UIButton\";\nimport {\n  AuthService,\n  IAuthServiceResponse,\n} from \"../../../services/AuthServices\";\n\ninterface ISignUpProps {\n  onSign: (response: IAuthServiceResponse) => void;\n}\ninterface ISignUpState {\n  error?: Error;\n  username: string;\n  password_1: string;\n  password_2: string;\n}\n\nexport default class SignUp extends Component<ISignUpProps, ISignUpState> {\n  /**\n   *\n   */\n  constructor(props: ISignUpProps) {\n    super(props);\n    this.state = {\n      error: undefined,\n      username: \"\",\n      password_1: \"\",\n      password_2: \"\",\n    };\n    this.handleSign = this.handleSign.bind(this);\n    this.handleChangeUsername = this.handleChangeUsername.bind(this);\n    this.handleChangePassword_1 = this.handleChangePassword_1.bind(this);\n    this.handleChangePassword_2 = this.handleChangePassword_2.bind(this);\n  }\n\n  async handleSign(): Promise<void> {\n    if (this.state.password_1 !== this.state.password_2) {\n      this.setState({ error: new Error(\"Unmatch password\") });\n    } else {\n      const result = await AuthService.createUser(\n        this.state.username,\n        this.state.password_1\n      );\n      if (result instanceof Error) {\n        this.setState({ error: result });\n      } else {\n        this.props.onSign(result);\n      }\n    }\n  }\n  handleChangeUsername(e: React.ChangeEvent<HTMLInputElement>): void {\n    this.setState({ username: e.target.value, error: undefined });\n  }\n  handleChangePassword_1(e: React.ChangeEvent<HTMLInputElement>): void {\n    this.setState({ password_1: e.target.value, error: undefined });\n  }\n  handleChangePassword_2(e: React.ChangeEvent<HTMLInputElement>): void {\n    this.setState({ password_2: e.target.value });\n    if (e.target.value !== \"\" && this.state.password_1 !== e.target.value) {\n      this.setState({ error: new Error(\"Unmatch password\") });\n    } else {\n      this.setState({ error: undefined });\n    }\n  }\n\n  renderError(): JSX.Element | null {\n    if (this.state.error) {\n      return (\n        <Row className=\"justify-content-center\">\n          <Alert variant=\"danger\">{this.state.error.message}</Alert>\n        </Row>\n      );\n    } else {\n      return null;\n    }\n  }\n\n  render(): JSX.Element {\n    return (\n      <Container className=\"align-vertical\">\n        {this.renderError()}\n        <Row className=\"justify-content-center\">\n          <input\n            type=\"text\"\n            id=\"username\"\n            className=\"col-8\"\n            placeholder=\"Nom d'utilisateur\"\n            value={this.state.username}\n            onChange={this.handleChangeUsername}\n          />\n        </Row>\n        <Row className=\"justify-content-center\">\n          <input\n            type=\"password\"\n            id=\"password\"\n            className=\"col-8\"\n            placeholder=\"Mot de passe\"\n            value={this.state.password_1}\n            onChange={this.handleChangePassword_1}\n          />\n        </Row>\n        <Row className=\"justify-content-center\">\n          <input\n            type=\"password\"\n            id=\"password-confirmation\"\n            className=\"col-8\"\n            placeholder=\"Confirmer le mot de passe\"\n            value={this.state.password_2}\n            onChange={this.handleChangePassword_2}\n          />\n        </Row>\n        <Row className=\"justify-content-center\">\n          <UIButton\n            text=\"Valider\"\n            className=\"col-8\"\n            onClick={this.handleSign}\n          />\n        </Row>\n      </Container>\n    );\n  }\n}\n","export enum FeedBlockContentType {\n  Text,\n  Image,\n  Video,\n}\nexport enum FeedBlockCategorie {\n  Favoris = \"✨Favoris\",\n  Media = \"🎬Media\",\n  Talk = \"💬Dicussion\",\n  Advert = \"📣Annonce\",\n}\n","import React, { Component } from \"react\";\n\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\ninterface IRowFluidProps {\n  className?: string;\n}\n\nclass RowFluid extends Component<IRowFluidProps> {\n  render(): JSX.Element {\n    const classItem = this.props.className ? \" \" + this.props.className : \"\";\n    return <div className={\"row-fluid\" + classItem}>{this.props.children}</div>;\n  }\n}\n\nexport default RowFluid;\n","import axios, { AxiosRequestConfig, AxiosResponse } from \"axios\";\nimport store from \"store\";\nimport { IComment } from \"./CommentServices\";\n\nconst host = \"http://207.180.251.133:5000\";\n\nexport interface IPost {\n  id: number;\n  user: {\n    username: string;\n  };\n  type: number;\n  categorie: string;\n  title: string;\n  url: string;\n  data: string;\n  timestamp: number;\n  editUserId?: number;\n  editTimestamp?: number;\n  commentsNumber?: number;\n  comments?: IComment[];\n}\ninterface IPostsResponse {\n  data: {\n    posts: IPost[];\n  };\n}\ninterface IPostResponse {\n  data: {\n    post: IPost;\n  };\n}\ninterface IDelPostResponse {\n  data: {\n    delPost: boolean;\n  };\n}\n\nexport class PostServices {\n  static async getPosts(\n    limit?: number,\n    timestamp?: number\n  ): Promise<IPost[] | Error> {\n    try {\n      let param = \"\";\n      if (limit && timestamp) {\n        param = `(limit: ${limit}, timestamp: ${timestamp})`;\n      } else if (limit && !timestamp) {\n        param = `(limit: ${limit})`;\n      } else if (!limit && timestamp) {\n        param = `(timestamp: ${timestamp})`;\n      }\n\n      const data = JSON.stringify({\n        query: `{\n            posts${param}{\n              id\n              user{\n                  username\n              }\n              title\n              type\n              categorie\n              data\n              url\n              timestamp\n              commentsNumber\n            }\n        }`,\n        variables: {},\n      });\n\n      const config: AxiosRequestConfig = {\n        method: \"post\",\n        url: host + \"/graphql\",\n        headers: {\n          Authorization: `Bearer ${store.get(\"token\", \"\")}`,\n          \"Content-Type\": \"application/json\",\n        },\n        data: data,\n      };\n\n      const response: AxiosResponse<IPostsResponse> = await axios(config);\n      return response.data.data.posts;\n    } catch (error) {\n      checkAuth(error);\n      return new Error(error.response.data.errors[0].message);\n    }\n  }\n  static async getPost(id: number): Promise<IPost | Error> {\n    try {\n      const data = JSON.stringify({\n        query: `{\n            post(id: ${id}){\n              id\n              title\n              user {\n                  username\n              }\n              type\n              categorie\n              data\n              url\n              timestamp\n              comments{\n                id  \n                userId\n                data\n                timestamp\n              }\n            }\n        }`,\n        variables: {},\n      });\n\n      const config: AxiosRequestConfig = {\n        method: \"post\",\n        url: host + \"/graphql\",\n        headers: {\n          Authorization: `Bearer ${store.get(\"token\", \"\")}`,\n          \"Content-Type\": \"application/json\",\n        },\n        data: data,\n      };\n\n      const response: AxiosResponse<IPostResponse> = await axios(config);\n      return response.data.data.post;\n    } catch (error) {\n      checkAuth(error);\n      return new Error(error.response.data.errors[0].message);\n    }\n  }\n  static async addPost(\n    username: string,\n    type: number,\n    categorie: string,\n    title: string,\n    data: string,\n    file?: File\n  ): Promise<IPost | Error> {\n    try {\n      let next = {\n        result: true,\n        fileUrl: \"\",\n      };\n\n      if (file) {\n        const formData = new FormData();\n        formData.append(\"image\", file);\n        const configFile: AxiosRequestConfig = {\n          method: \"post\",\n          url: host + \"/upload\",\n          headers: {\n            Authorization: `Bearer ${store.get(\"token\", \"\")}`,\n          },\n          data: formData,\n        };\n        const response: AxiosResponse<{\n          result: boolean;\n          fileUrl: string;\n        }> = await axios(configFile);\n        next = response.data;\n      }\n\n      if (next.result) {\n        const dataQ = JSON.stringify({\n          query: `mutation{\n            addPost(username: \"${username}\", type:${type}, categorie:\"${categorie}\", title:\"${title}\", url:\"${next.fileUrl}\", data:\"${data}\"){\n              id\n              title\n              type\n              categorie\n              url\n              data\n              timestamp\n            }\n        }`,\n          variables: {},\n        });\n        console.log({ dataQ });\n\n        const config: AxiosRequestConfig = {\n          method: \"post\",\n          url: host + \"/graphql\",\n          headers: {\n            Authorization: `Bearer ${store.get(\"token\", \"\")}`,\n            \"Content-Type\": \"application/json\",\n          },\n          data: dataQ,\n        };\n\n        const response: AxiosResponse<IPostResponse> = await axios(config);\n        return response.data.data.post;\n      }\n\n      throw new Error(\"File upload error\");\n    } catch (error) {\n      checkAuth(error);\n      return new Error(error.response.data.errors[0].message);\n    }\n  }\n  static async editPost(\n    id: number,\n    username: string,\n    type: number,\n    categorie: string,\n    title: string,\n    url: string,\n    data: string,\n    file?: File\n  ): Promise<IPost | Error> {\n    try {\n      let next = {\n        result: true,\n        fileUrl: url,\n      };\n\n      if (file) {\n        const formData = new FormData();\n        formData.append(\"image\", file);\n        const configFile: AxiosRequestConfig = {\n          method: \"post\",\n          url: host + \"/upload\",\n          headers: {\n            Authorization: `Bearer ${store.get(\"token\", \"\")}`,\n          },\n          data: formData,\n        };\n        const response: AxiosResponse<{\n          result: boolean;\n          fileUrl: string;\n        }> = await axios(configFile);\n        next = response.data;\n      }\n\n      if (next.result) {\n        const dataQ = JSON.stringify({\n          query: `mutation{\n            editPost(id: ${id}, username: \"${username}\", type:${type}, categorie:\"${categorie}\", title:\"${title}\", url:\"${next.fileUrl}\", data:\"${data}\"){\n              id\n              title\n              type\n              categorie\n              url\n              data\n              timestamp\n            }\n        }`,\n          variables: {},\n        });\n\n        const config: AxiosRequestConfig = {\n          method: \"post\",\n          url: host + \"/graphql\",\n          headers: {\n            Authorization: `Bearer ${store.get(\"token\", \"\")}`,\n            \"Content-Type\": \"application/json\",\n          },\n          data: dataQ,\n        };\n\n        const response: AxiosResponse<IPostResponse> = await axios(config);\n        return response.data.data.post;\n      }\n      throw new Error(\"File upload error\");\n    } catch (error) {\n      checkAuth(error);\n      return new Error(error.response.data.errors[0].message);\n    }\n  }\n\n  static async delPost(id: number, username: string): Promise<boolean | Error> {\n    try {\n      const data = JSON.stringify({\n        query: `mutation{\n            delPost(id: ${id}, username: \"${username}\")\n        }`,\n        variables: {},\n      });\n\n      const config: AxiosRequestConfig = {\n        method: \"post\",\n        url: host + \"/graphql\",\n        headers: {\n          Authorization: `Bearer ${store.get(\"token\", \"\")}`,\n          \"Content-Type\": \"application/json\",\n        },\n        data: data,\n      };\n\n      const response: AxiosResponse<IDelPostResponse> = await axios(config);\n      return response.data.data.delPost;\n    } catch (error) {\n      checkAuth(error);\n      return new Error(error.response.data.errors[0].message);\n    }\n  }\n}\nfunction checkAuth(error: any) {\n  if (error.request.status === 401) {\n    store.remove(\"user\");\n    store.remove(\"token\");\n    store.set(\"isAuth\", false);\n    window.location.replace(\"/\");\n  }\n}\n","import React, { Component } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport Container from \"react-bootstrap/Container\";\nimport RowFluid from \"../global-component/RowFluid\";\nimport Row from \"react-bootstrap/Row\";\nimport { Depths } from \"@uifabric/fluent-theme/lib/fluent/FluentDepths\";\nimport UIButton from \"../global-component/UIButton\";\nimport Col from \"react-bootstrap/Col\";\nimport store from \"store\";\nimport {\n  FeedBlockContentType,\n  FeedBlockCategorie,\n} from \"../../models/FeedBlock\";\nimport Alert from \"react-bootstrap/Alert\";\nimport { PostServices } from \"../../services/PostServices\";\nimport { AuthService } from \"../../services/AuthServices\";\n\nenum FormMode {\n  edit,\n  new,\n}\ntype IParam = {\n  postId: string;\n};\ninterface IFeedBlockFromProps extends RouteComponentProps<IParam> {\n  mode: FormMode;\n}\ninterface IFeedBlockFromState {\n  error?: Error;\n  title: string;\n  type: FeedBlockContentType;\n  categorie: string[];\n  file?: File;\n  url: string;\n  text: string;\n\n  allowedImageType: string[];\n  allowedVideoType: string[];\n\n  authorization: number;\n}\n\nclass FeedBlockFrom extends Component<\n  IFeedBlockFromProps,\n  IFeedBlockFromState\n> {\n  /**\n   *\n   */\n  constructor(props: IFeedBlockFromProps) {\n    super(props);\n    this.state = {\n      error: undefined,\n      title: \"\",\n      type: FeedBlockContentType.Text,\n      categorie: [],\n      file: undefined,\n      url: \"\",\n      text: \"\",\n\n      allowedImageType: [\"image/png\", \"image/jpeg\", \"image/webp\", \"image/gif\"],\n      allowedVideoType: [\"video/webm\"],\n\n      authorization: 0,\n    };\n    this.handleBack = this.handleBack.bind(this);\n    this.handleTitle = this.handleTitle.bind(this);\n    this.handleTextArea = this.handleTextArea.bind(this);\n    this.handleTypeSelect = this.handleTypeSelect.bind(this);\n    this.handleCategorieSelect = this.handleCategorieSelect.bind(this);\n    this.handleImageChange = this.handleImageChange.bind(this);\n    this.handleVideoChange = this.handleVideoChange.bind(this);\n    this.handleSend = this.handleSend.bind(this);\n  }\n  componentDidMount(): void {\n    if (this.props.mode === FormMode.edit && this.props.match.params.postId) {\n      document.title = \"Edit post - Groupomania\";\n      this.getAuthorization();\n      this.getData(Number.parseFloat(this.props.match.params.postId));\n    } else {\n      document.title = \"New post - Groupomania\";\n      this.getAuthorization();\n    }\n  }\n  async getAuthorization(): Promise<void> {\n    const result = await AuthService.getUser(store.get(\"user\", \"\"));\n    if (result instanceof Error) {\n      this.setState({ error: result });\n    } else {\n      this.setState({ authorization: result.authorization });\n    }\n  }\n  async getData(id: number): Promise<void> {\n    const result = await PostServices.getPost(id);\n    if (result instanceof Error) {\n      this.setState({ error: result });\n    } else {\n      this.setState({\n        title: result.title,\n        type: result.type,\n        text: result.data,\n        categorie: result.categorie.split(\",\"),\n      });\n      const doc = document.getElementById(\"file_img\");\n      if (doc) {\n        doc.style.display = \"inline\";\n        (doc as HTMLImageElement).src = result.url;\n        this.setState({ url: result.url });\n      }\n      result.categorie.split(\",\").forEach((e) => {\n        switch (e) {\n          case FeedBlockCategorie.Favoris:\n            if (this.state.authorization === 1) {\n              (document.getElementById(\n                \"checkbox_favoris\"\n              ) as HTMLInputElement).checked = true;\n            }\n            break;\n          case FeedBlockCategorie.Media:\n            (document.getElementById(\n              \"checkbox_media\"\n            ) as HTMLInputElement).checked = true;\n            break;\n          case FeedBlockCategorie.Talk:\n            (document.getElementById(\n              \"checkbox_talk\"\n            ) as HTMLInputElement).checked = true;\n            break;\n          case FeedBlockCategorie.Advert:\n            (document.getElementById(\n              \"checkbox_advert\"\n            ) as HTMLInputElement).checked = true;\n            break;\n        }\n      });\n    }\n  }\n  renderError(): JSX.Element | null {\n    if (this.state.error) {\n      return (\n        <Row className=\"justify-content-center\">\n          <Alert variant=\"danger\">{this.state.error.message}</Alert>\n        </Row>\n      );\n    } else {\n      return null;\n    }\n  }\n  handleBack(): void {\n    this.props.history.push(\"/\");\n  }\n  handleTitle(e: React.ChangeEvent<HTMLInputElement>): void {\n    this.setState({ title: e.target.value });\n  }\n  handleTypeSelect(e: React.ChangeEvent<HTMLSelectElement>): void {\n    this.setState({ type: Number.parseInt(e.target.value) });\n  }\n  handleTextArea(e: React.ChangeEvent<HTMLTextAreaElement>): void {\n    this.setState({ text: e.target.value });\n  }\n\n  renderTypeSelect(\n    selection: FeedBlockContentType\n  ): JSX.Element | JSX.Element[] | null {\n    switch (selection) {\n      case FeedBlockContentType.Text:\n        if (this.state.categorie.includes(FeedBlockCategorie.Media)) {\n          const temp = this.state.categorie;\n          temp.splice(temp.indexOf(FeedBlockCategorie.Media), 1);\n          this.setState({ categorie: temp });\n        }\n        return (\n          <Row className=\"justify-content-center\" style={{ marginTop: \"1vh\" }}>\n            <Col sm={2}>\n              <label\n                htmlFor=\"text\"\n                className=\"p-0 m-0 align-vertical font-weight-bolder\"\n              >\n                Texte\n              </label>\n            </Col>\n            <Col>\n              <textarea\n                id=\"text\"\n                className=\"m-0\"\n                placeholder=\"Texte (20 à 1000 charactère)\"\n                rows={4}\n                value={this.state.text}\n                onChange={this.handleTextArea}\n              ></textarea>\n            </Col>\n          </Row>\n        );\n      case FeedBlockContentType.Image:\n        if (this.state.categorie.includes(FeedBlockCategorie.Talk)) {\n          const temp = this.state.categorie;\n          temp.splice(temp.indexOf(FeedBlockCategorie.Talk), 1);\n          this.setState({ categorie: temp });\n        }\n        return [\n          <Row\n            key=\"0\"\n            className=\"justify-content-center\"\n            style={{ marginTop: \"1vh\" }}\n          >\n            <Col sm={2}>\n              <label\n                htmlFor=\"img\"\n                className=\"p-0 m-0 align-vertical font-weight-bolder\"\n              >\n                Image/Gif\n              </label>\n            </Col>\n            <Col>\n              <input\n                type=\"file\"\n                accept={this.state.allowedImageType.toString()}\n                id=\"img\"\n                className=\"m-0\"\n                onChange={this.handleImageChange}\n              ></input>\n            </Col>\n          </Row>,\n          <Row\n            key=\"1\"\n            className=\"justify-content-center\"\n            style={{ marginTop: \"1vh\" }}\n          >\n            <img\n              id=\"file_img\"\n              alt=\"Petit aperçu du contenue\"\n              width={200}\n              style={{ display: \"none\" }}\n            />\n          </Row>,\n        ];\n      case FeedBlockContentType.Video:\n        return (\n          <Row className=\"justify-content-center\" style={{ marginTop: \"1vh\" }}>\n            <Col sm={2}>\n              <label\n                htmlFor=\"video\"\n                className=\"p-0 m-0 align-vertical font-weight-bolder\"\n              >\n                Vidéo\n              </label>\n            </Col>\n            <Col>\n              <input\n                type=\"file\"\n                accept={this.state.allowedVideoType.toString()}\n                id=\"video\"\n                className=\"m-0\"\n                onChange={this.handleVideoChange}\n              ></input>\n            </Col>\n          </Row>\n        );\n\n      default:\n        return null;\n    }\n  }\n  handleCategorieSelect(e: React.ChangeEvent<HTMLInputElement>): void {\n    const temp = this.state.categorie;\n    if (!this.state.categorie.includes(e.target.value)) {\n      temp.push(e.target.value);\n      this.setState({ categorie: temp });\n    } else {\n      temp.splice(temp.indexOf(e.target.value), 1);\n      this.setState({ categorie: temp });\n    }\n  }\n  handleImageChange(e: React.ChangeEvent<HTMLInputElement>): void {\n    if (e.target.files) {\n      const file = e.target.files.item(0);\n      if (file) {\n        if (this.state.allowedImageType.includes(file.type)) {\n          if (file.size < 2000000) {\n            this.setState({ error: undefined, file: file });\n            if (FileReader) {\n              const fr = new FileReader();\n              fr.onload = function () {\n                const img_file = document.getElementById(\"file_img\");\n                if (img_file && typeof fr.result === \"string\") {\n                  (img_file as HTMLImageElement).src = fr.result;\n                  img_file.style.display = \"inline\";\n                }\n              };\n              fr.readAsDataURL(file);\n            }\n          } else {\n            this.setState({ error: new Error(\"Fichier trop volumineux\") });\n          }\n        } else {\n          this.setState({ error: new Error(\"Format de fichier invalide\") });\n        }\n      }\n    }\n  }\n  handleVideoChange(e: React.ChangeEvent<HTMLInputElement>): void {\n    if (e.target.files) {\n      const file = e.target.files.item(0);\n      if (file) {\n        if (this.state.allowedVideoType.includes(file.type)) {\n          if (file.size < 4000000) {\n            this.setState({ error: undefined, file: file });\n          } else {\n            this.setState({ error: new Error(\"Fichier trop volumineux\") });\n          }\n        } else {\n          this.setState({ error: new Error(\"Format de fichier invalide\") });\n        }\n      }\n    }\n  }\n  async handleSend(): Promise<void> {\n    let result = undefined;\n    switch (this.props.mode) {\n      case FormMode.new:\n        result = await PostServices.addPost(\n          store.get(\"user\", \"\"),\n          this.state.type.valueOf(),\n          this.state.categorie.toString(),\n          this.state.title,\n          this.state.text,\n          this.state.file\n        );\n        if (result instanceof Error) {\n          this.setState({ error: result });\n        } else {\n          this.props.history.push(\"/\");\n        }\n        break;\n      case FormMode.edit:\n        result = await PostServices.editPost(\n          Number.parseFloat(this.props.match.params.postId),\n          store.get(\"user\", \"\"),\n          this.state.type.valueOf(),\n          this.state.categorie.toString(),\n          this.state.title,\n          this.state.url,\n          this.state.text,\n          this.state.file\n        );\n        if (result instanceof Error) {\n          this.setState({ error: result });\n        } else {\n          this.props.history.push(\"/\");\n        }\n        break;\n      default:\n        break;\n    }\n  }\n  renderTitle(mode: FormMode): string {\n    switch (mode) {\n      case FormMode.edit:\n        return \"Editer\";\n      case FormMode.new:\n        return \"Crée\";\n      default:\n        return \"\";\n    }\n  }\n  render(): JSX.Element {\n    return (\n      <Container fluid className=\"p-0\">\n        <RowFluid>\n          <Container\n            fluid\n            className=\"ac-block align-middle\"\n            style={{ boxShadow: Depths.depth8 }}\n          >\n            <Row className=\"justify-content-center\">\n              <div className=\"col-4 p-0\">\n                <UIButton\n                  text=\"Back\"\n                  onClick={this.handleBack}\n                  className=\"m-0 col-8\"\n                ></UIButton>\n              </div>\n              <h1 className=\"col-8 p-0 text-justify m-0 align-vertical\">\n                {this.renderTitle(this.props.mode)} un post\n              </h1>\n            </Row>\n          </Container>\n        </RowFluid>\n        <div style={{ marginTop: \"4vh\" }}></div>\n        <RowFluid>\n          <Container\n            fluid\n            className=\"ac-block mx-auto my-1 align-middle\"\n            style={{ boxShadow: Depths.depth8 }}\n          >\n            {this.renderError()}\n            <Row className=\"justify-content-center\">\n              <Col sm={2}>\n                <label\n                  htmlFor=\"title\"\n                  className=\"p-0 m-0 align-vertical font-weight-bolder\"\n                >\n                  Titre\n                </label>\n              </Col>\n              <Col>\n                <input\n                  type=\"text\"\n                  id=\"title\"\n                  className=\"m-0\"\n                  placeholder=\"Titre (3 à 200 charactère)\"\n                  onChange={this.handleTitle}\n                  value={this.state.title}\n                ></input>\n              </Col>\n            </Row>\n            <Row\n              className=\"justify-content-center\"\n              style={{ marginTop: \"1vh\" }}\n            >\n              <Col sm={2}>\n                <label\n                  htmlFor=\"type\"\n                  className=\"p-0 m-0 align-vertical font-weight-bolder\"\n                >\n                  Type\n                </label>\n              </Col>\n              <Col>\n                <select\n                  id=\"type\"\n                  className=\"m-0\"\n                  onChange={this.handleTypeSelect}\n                  value={this.state.type}\n                >\n                  <option value=\"0\">Texte</option>\n                  <option value=\"1\">Image/Gif</option>\n                  {/*<option value=\"2\">Video</option>*/}\n                </select>\n              </Col>\n            </Row>\n            <Row\n              className=\"justify-content-center\"\n              style={{ marginTop: \"1vh\" }}\n            >\n              <Col sm={2} className=\"my-auto\">\n                <span className=\"font-weight-bolder\">Categorie</span>\n              </Col>\n              {(this.state.authorization === 1 && (\n                <Col sm={3}>\n                  <div>\n                    <input\n                      type=\"checkbox\"\n                      id=\"checkbox_favoris\"\n                      onChange={this.handleCategorieSelect}\n                      value={FeedBlockCategorie.Favoris}\n                    />\n                  </div>\n                  <div>{FeedBlockCategorie.Favoris}</div>\n                </Col>\n              )) ||\n                null}\n              {(this.state.type === FeedBlockContentType.Image && (\n                <Col sm={5 - this.state.authorization * 1}>\n                  <div>\n                    <input\n                      type=\"checkbox\"\n                      id=\"checkbox_media\"\n                      onChange={this.handleCategorieSelect}\n                      value={FeedBlockCategorie.Media}\n                    />\n                  </div>\n                  <div>{FeedBlockCategorie.Media}</div>\n                </Col>\n              )) ||\n                null}\n              {(this.state.type === FeedBlockContentType.Text && (\n                <Col sm={5 - this.state.authorization * 1}>\n                  <div>\n                    <input\n                      type=\"checkbox\"\n                      id=\"checkbox_talk\"\n                      onChange={this.handleCategorieSelect}\n                      value={FeedBlockCategorie.Talk}\n                    />\n                  </div>\n                  <div>{FeedBlockCategorie.Talk}</div>\n                </Col>\n              )) ||\n                null}\n              {((this.state.type === FeedBlockContentType.Text ||\n                this.state.type === FeedBlockContentType.Image) && (\n                <Col sm={5 - this.state.authorization * 2}>\n                  <div>\n                    <input\n                      type=\"checkbox\"\n                      id=\"checkbox_advert\"\n                      onChange={this.handleCategorieSelect}\n                      value={FeedBlockCategorie.Advert}\n                    />\n                  </div>\n                  <div>{FeedBlockCategorie.Advert}</div>\n                </Col>\n              )) ||\n                null}\n            </Row>\n            {this.renderTypeSelect(this.state.type)}\n          </Container>\n        </RowFluid>\n        <RowFluid>\n          <Container\n            fluid\n            className=\"ac-block mx-auto my-1 align-middle\"\n            style={{ boxShadow: Depths.depth8 }}\n          >\n            <Row className=\"justify-content-center\">\n              <UIButton\n                text=\"Envoyer\"\n                className=\"col-8\"\n                onClick={this.handleSend}\n              />\n            </Row>\n          </Container>\n        </RowFluid>\n      </Container>\n    );\n  }\n}\n\nexport default FeedBlockFrom;\n","import React from \"react\";\n\ninterface IReactPickerProps {\n  elementList: string[];\n  ClassName?: string;\n  onChange?: (id: number) => void;\n}\ninterface IReactPickerStates {\n  numberOfElement: number;\n  elementPicked: number;\n}\n\nclass TabPicker extends React.Component<IReactPickerProps, IReactPickerStates> {\n  constructor(props: IReactPickerProps) {\n    super(props);\n    this.state = {\n      numberOfElement: props.elementList.length,\n      elementPicked: 0,\n    };\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick(id: number): void {\n    this.setState({ elementPicked: id });\n    if (this.props.onChange) {\n      this.props.onChange(id);\n    }\n  }\n\n  generateTab(id: number, name: string, selected: boolean): JSX.Element {\n    if (selected) {\n      return (\n        <a\n          className=\"flex-column mx-3 font-weight-bolder active\"\n          href=\"/#\"\n          key={id}\n          onClick={() => {\n            this.handleClick(id);\n          }}\n        >\n          {name}\n        </a>\n      );\n    } else {\n      return (\n        <a\n          className=\"flex-column mx-3 font-weight-bolder\"\n          href=\"/#\"\n          key={id}\n          onClick={() => {\n            this.handleClick(id);\n          }}\n        >\n          {name}\n        </a>\n      );\n    }\n  }\n  generateList(): JSX.Element[] {\n    const result = [];\n    for (let index = 0; index < this.state.numberOfElement; index++) {\n      const element = this.props.elementList[index];\n\n      if (index === this.state.elementPicked)\n        result.push(this.generateTab(index, element, true));\n      else result.push(this.generateTab(index, element, false));\n    }\n    return result;\n  }\n\n  render(): JSX.Element {\n    if (this.props.ClassName) {\n      return <div className={this.props.ClassName}>{this.generateList()}</div>;\n    } else {\n      return <div>{this.generateList()}</div>;\n    }\n  }\n}\n\nexport default TabPicker;\n","import React, { Component } from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport { FeedBlockContentType } from \"../../../models/FeedBlock\";\nimport RowFluid from \"../RowFluid\";\n\nimport \"./FeedBlock.scss\";\nimport UIButton from \"../UIButton\";\nimport { IPost, PostServices } from \"../../../services/PostServices\";\nimport * as H from \"history\";\nimport { Depths } from \"@uifabric/fluent-theme/lib/fluent/FluentDepths\";\nimport { MotionAnimations } from \"@uifabric/fluent-theme/lib/fluent/FluentMotion\";\nimport store from \"store\";\ninterface IButtonSelect {\n  edit: boolean;\n  delete: boolean;\n  comment: boolean;\n}\ninterface IFeedBlock extends IPost {\n  history: H.History<H.LocationState>;\n  showButton: IButtonSelect;\n  onDelete?: (id: number) => void;\n}\ninterface IFeedBlockState {\n  error?: Error;\n}\n\nclass FeedBlock extends Component<IFeedBlock, IFeedBlockState> {\n  /**\n   *\n   */\n  constructor(props: IFeedBlock) {\n    super(props);\n    this.state = {\n      error: undefined,\n    };\n    this.handleButtonEdit = this.handleButtonEdit.bind(this);\n    this.handleButtonPost = this.handleButtonPost.bind(this);\n    this.handleButtonDel = this.handleButtonDel.bind(this);\n  }\n\n  async handleButtonEdit(): Promise<void> {\n    this.props.history.push(`/editPost/${this.props.id}`);\n  }\n  async handleButtonPost(): Promise<void> {\n    this.props.history.push(`/post/${this.props.id}`);\n  }\n  async handleButtonDel(): Promise<void> {\n    const result = await PostServices.delPost(\n      this.props.id,\n      store.get(\"user\", \"\")\n    );\n    if (result instanceof Error) {\n      this.setState({ error: result });\n    } else {\n      if (result) {\n        if (this.props.onDelete) {\n          this.props.onDelete(this.props.id);\n        } else {\n          this.props.history.push(\"/\");\n        }\n      } else {\n        this.setState({ error: new Error(\"Une erreur c'est produite.\") });\n      }\n    }\n  }\n\n  commentNumberConvert(value: number): string {\n    if (value > 1000000) {\n      return (value / 1000000).toFixed(1) + \"M\";\n    } else if (value > 1000) {\n      return (value / 1000).toFixed(1) + \"K\";\n    } else {\n      return value.toString();\n    }\n  }\n\n  renderTimestamp(value: number): string {\n    const time = Date.now() / 1000 - value;\n    if (time < 60) {\n      return `${time.toFixed(0)} sec`;\n    } else if (time < 3600) {\n      return `${(time / 60).toFixed(0)} min`;\n    } else if (time < 3600 * 24) {\n      return `${(time / 3600).toFixed(0)} heure`;\n    } else {\n      return `${(time / 3600 / 24).toFixed(0)} jour`;\n    }\n  }\n  renderByType(type: FeedBlockContentType): JSX.Element {\n    switch (type) {\n      case FeedBlockContentType.Text:\n        return <p className=\"col-10\">{this.props.data}</p>;\n      case FeedBlockContentType.Image:\n        return <img className=\"img-fluid col-10\" src={this.props.url} alt=\"\" />;\n      case FeedBlockContentType.Video:\n        return (\n          <video\n            className=\"embed-responsive col-10\"\n            src={this.props.url}\n          ></video>\n        );\n      default:\n        return <p>{\"Content type error\"}</p>;\n    }\n  }\n  renderButton(showButton: IButtonSelect): JSX.Element {\n    const cm_nb = this.props.commentsNumber ? this.props.commentsNumber : 0;\n    const editButton = !showButton.edit ? null : (\n      <Col>\n        <UIButton\n          text={\"🖋 Editer\"}\n          className=\"mx-0 col-12\"\n          onClick={this.handleButtonEdit}\n        />\n      </Col>\n    );\n    const delButton = !showButton.delete ? null : (\n      <Col>\n        <UIButton\n          text={\"🗑 Effacer\"}\n          className=\"mx-0 col-12\"\n          onClick={this.handleButtonDel}\n        />\n      </Col>\n    );\n    const commentButton = !showButton.comment ? null : (\n      <Col>\n        <UIButton\n          text={\"💬\" + this.commentNumberConvert(cm_nb)}\n          className=\"mx-0 col-12\"\n          onClick={this.handleButtonPost}\n        />\n      </Col>\n    );\n\n    return (\n      <Row className=\"justify-content-center space-row\">\n        {editButton}\n        {commentButton}\n        {delButton}\n      </Row>\n    );\n  }\n\n  render(): JSX.Element {\n    return (\n      <RowFluid>\n        <Container\n          fluid\n          className=\"ac-block mx-auto my-4 align-middle\"\n          style={{\n            boxShadow: Depths.depth8,\n            animation: MotionAnimations.slideDownIn.replace(\"100ms\", \"400ms\"),\n          }}\n        >\n          <Row className=\"justify-content-center\">\n            <h2 className=\"col-10 text-center font-weight-bolder\">\n              {this.props.title}\n            </h2>\n            <p className=\"col-10 text-center\">\n              <em className=\"small\">\n                Envoyer par <strong>{this.props.user.username}</strong>, il y a{\" \"}\n                {this.renderTimestamp(this.props.timestamp)}\n              </em>\n            </p>\n          </Row>\n          <Row className=\"justify-content-center\">\n            {this.renderByType(this.props.type)}\n          </Row>\n          {this.renderButton(this.props.showButton)}\n        </Container>\n      </RowFluid>\n    );\n  }\n}\n\nexport default FeedBlock;\n","import React from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport RowFluid from \"../global-component/RowFluid\";\nimport { Depths } from \"@uifabric/fluent-theme/lib/fluent/FluentDepths\";\nimport \"./Home.scss\";\n\nimport { FeedBlockCategorie } from \"../../models/FeedBlock\";\nimport { PostServices, IPost } from \"../../services/PostServices\";\n\nimport logo from \"../../ressource/logo_128.png\";\nimport userIcon from \"../../ressource/user-solid.svg\";\nimport TabPicker from \"../global-component/tab-picker/tabPicker\";\nimport FeedBlock from \"../global-component/feed-block/FeedBlock\";\nimport UIButton from \"../global-component/UIButton\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport store from \"store\";\nimport { IUser, AuthService } from \"../../services/AuthServices\";\n\ninterface IHomeProp extends RouteComponentProps {\n  setDefaultTab: FeedBlockCategorie;\n}\ninterface IHomeStates {\n  search: string;\n  categorieList: string[];\n  categorieFocused: FeedBlockCategorie;\n  loadItemLimit: number;\n  lastTimestamp: number;\n  data: IPost[];\n  error?: Error;\n  user?: IUser;\n}\n\nclass Home extends React.Component<IHomeProp, IHomeStates> {\n  constructor(props: IHomeProp) {\n    super(props);\n    this.state = {\n      search: \"\",\n      categorieList: [\n        FeedBlockCategorie.Favoris,\n        FeedBlockCategorie.Media,\n        FeedBlockCategorie.Talk,\n        FeedBlockCategorie.Advert,\n      ],\n      categorieFocused: props.setDefaultTab,\n      loadItemLimit: 10,\n      lastTimestamp: 0,\n      data: [],\n      error: undefined,\n      user: undefined,\n    };\n\n    this.handleSearch = this.handleSearch.bind(this);\n    this.handleTabChange = this.handleTabChange.bind(this);\n    this.handleNewPost = this.handleNewPost.bind(this);\n    this.handleProfile = this.handleProfile.bind(this);\n    this.getUser = this.getUser.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n  }\n\n  componentDidMount(): void {\n    document.title = \"Feed - Groupomania\";\n    this.getUser();\n    this.getData(10, 0).then((val) => {\n      this.setState({ data: val });\n    });\n  }\n\n  handleSearch(e: React.ChangeEvent<HTMLInputElement>): void {\n    this.setState({ search: e.target.value });\n  }\n  handleTabChange(id: number): void {\n    this.setState({\n      categorieFocused: this.state.categorieList[id] as FeedBlockCategorie,\n    });\n  }\n  handleNewPost(): void {\n    this.props.history.push(\"/newPost\");\n  }\n  handleProfile(e: React.MouseEvent<HTMLAnchorElement, MouseEvent>): void {\n    e.preventDefault();\n    this.props.history.push(\"/profile/\" + store.get(\"user\", \"\"));\n  }\n  handleDelete(id: number): void {\n    const temp = this.state.data;\n    console.log({ temp });\n    temp.splice(\n      temp.findIndex((n) => n.id === id),\n      1\n    );\n    console.log({ temp });\n    this.setState({ data: temp });\n  }\n\n  async getData(limit: number, lastTimestamp: number): Promise<IPost[]> {\n    const result = await PostServices.getPosts(limit, lastTimestamp);\n    if (result instanceof Error) {\n      this.setState({ error: result });\n      return [];\n    } else {\n      return result;\n    }\n  }\n  async getUser(): Promise<void> {\n    const result = await AuthService.getUser(store.get(\"user\", \"\"));\n    if (result instanceof Error) {\n      this.setState({ error: result });\n    } else {\n      this.setState({ user: result });\n    }\n  }\n\n  renderData(filter: FeedBlockCategorie): JSX.Element[] {\n    const result: JSX.Element[] = [];\n    for (let i = 0; i < this.state.data.length; i++) {\n      const e = this.state.data[i];\n      const check =\n        typeof this.state.user !== \"undefined\" &&\n        (this.state.user.authorization === 1 ||\n          this.state.user.username === e.user.username);\n      if (e.categorie.includes(filter)) {\n        result.push(\n          <FeedBlock\n            history={this.props.history}\n            showButton={{\n              edit: check,\n              comment: true,\n              delete: check,\n            }}\n            key={i}\n            id={e.id}\n            user={e.user}\n            title={e.title}\n            data={e.data}\n            url={e.url}\n            type={e.type}\n            categorie={e.categorie}\n            timestamp={e.timestamp}\n            commentsNumber={e.commentsNumber}\n            onDelete={this.handleDelete}\n          />\n        );\n      }\n    }\n    return result;\n  }\n\n  render(): JSX.Element {\n    return (\n      <Container fluid className=\"p-0\">\n        <RowFluid>\n          <Container\n            fluid\n            className=\"ac-block align-middle\"\n            style={{ boxShadow: Depths.depth8 }}\n          >\n            <Row className=\"justify-content-center\">\n              <div className=\"col-10\">\n                <img src={logo} alt=\"\" className=\"img-fluid logo\" />\n                <h1 className=\"d-inline-block m-0 align-vertical\">\n                  Groupomania\n                </h1>\n              </div>\n              <div className=\"col-2 p-0 d-flex my-auto text-center\">\n                <a\n                  href={`/profile/${store.get(\"user\", \"\")}`}\n                  onClick={this.handleProfile}\n                >\n                  <img src={userIcon} alt=\"\" className=\"img-fluid user-icon\" />\n                </a>\n              </div>\n            </Row>\n          </Container>\n        </RowFluid>\n        <RowFluid>\n          <Container\n            fluid\n            className=\"ac-block mx-auto my-1 align-middle\"\n            style={{ boxShadow: Depths.depth8 }}\n          >\n            <div className=\"row-fluid justify-content-center\">\n              <input\n                type=\"search\"\n                placeholder=\"🔍Rechercher\"\n                value={this.state.search}\n                onChange={this.handleSearch}\n              />\n            </div>\n            <TabPicker\n              elementList={this.state.categorieList}\n              onChange={this.handleTabChange}\n              ClassName=\"row justify-content-center\"\n            />\n          </Container>\n        </RowFluid>\n        <RowFluid>\n          <RowFluid>\n            <Container\n              fluid\n              className=\"ac-block mx-auto my-1 align-middle\"\n              style={{ boxShadow: Depths.depth8 }}\n            >\n              <UIButton\n                text=\"Crée un post\"\n                className=\"col-8\"\n                onClick={this.handleNewPost}\n              />\n            </Container>\n          </RowFluid>\n        </RowFluid>\n        {this.renderData(this.state.categorieFocused)}\n      </Container>\n    );\n  }\n}\n\nexport default Home;\n","import React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\n\ninterface IProtectedRouteProps {\n  isAuth: boolean;\n  path: string;\n}\n\nclass ProtectedRoute extends Component<IProtectedRouteProps> {\n  render(): JSX.Element {\n    let result;\n    if (this.props.isAuth) {\n      result = <div className=\"mx-auto w-100\">{this.props.children}</div>;\n    } else {\n      result = <Redirect to={this.props.path} />;\n    }\n\n    return result;\n  }\n}\n\nexport default ProtectedRoute;\n","import React, { Component } from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport RowFluid from \"../RowFluid\";\n\nimport \"./CommentBlock.scss\";\nimport { IComment } from \"../../../services/CommentServices\";\nimport { AuthService } from \"../../../services/AuthServices\";\nimport { Depths } from \"@uifabric/fluent-theme/lib/fluent/FluentDepths\";\nimport { MotionAnimations } from \"@uifabric/fluent-theme/lib/fluent/FluentMotion\";\n\ninterface ICommentBlockStates {\n  error?: Error;\n  username: string;\n}\n\nclass CommentBlock extends Component<IComment, ICommentBlockStates> {\n  /**\n   *\n   */\n  constructor(props: IComment) {\n    super(props);\n\n    this.state = {\n      error: undefined,\n      username: \"\",\n    };\n    this.getUsername = this.getUsername.bind(this);\n  }\n  componentDidMount(): void {\n    this.getUsername();\n  }\n\n  renderTimestamp(value: number): string {\n    const time = Date.now() / 1000 - value;\n    if (time < 60) {\n      return `${time.toFixed(0)} s`;\n    } else if (time < 3600) {\n      return `${(time / 60).toFixed(0)} m`;\n    } else if (time < 3600 * 24) {\n      return `${(time / 3600).toFixed(0)} h`;\n    } else {\n      return `${(time / 3600 / 24).toFixed(0)} j`;\n    }\n  }\n\n  async getUsername(): Promise<void> {\n    const result = await AuthService.getUser(undefined, this.props.userId);\n    if (result instanceof Error) {\n      this.setState({ error: result });\n    } else {\n      this.setState({ username: result.username });\n    }\n  }\n\n  render(): JSX.Element {\n    return (\n      <RowFluid>\n        <Container\n          fluid\n          className=\"ac-block mx-auto my-4 align-middle\"\n          style={{\n            boxShadow: Depths.depth8,\n            animation: MotionAnimations.slideRightIn.replace(\"100ms\", \"400ms\"),\n          }}\n        >\n          <Row className=\"justify-content-center\">\n            <h3 className=\"col-10 text-justify font-weight-bolder\">\n              {this.state.username}\n            </h3>\n          </Row>\n          <Row className=\"justify-content-center\">\n            <span className=\"col-10 text-justify font-weight-light\">\n              {this.renderTimestamp(this.props.timestamp)}\n            </span>\n          </Row>\n          <Row className=\"row justify-content-center\">\n            <p className=\"col-10 text-justify\">{this.props.data}</p>\n          </Row>\n        </Container>\n      </RowFluid>\n    );\n  }\n}\n\nexport default CommentBlock;\n","import axios, { AxiosRequestConfig, AxiosResponse } from \"axios\";\nimport store from \"store\";\n\nexport interface IComment {\n  id: number;\n  userId: number;\n  postId: number;\n  data: string;\n  timestamp: number;\n}\ninterface IAddCommentResponse {\n  data: {\n    addComment: IComment;\n  };\n}\n\nexport default class CommentServices {\n  static async addComment(\n    username: string,\n    postId: number,\n    data: string\n  ): Promise<IComment | Error> {\n    try {\n      const dataQ = JSON.stringify({\n        query: `mutation{\n            addComment(username: \"${username}\", postId:${postId}, data:\"${data}\"){\n              id\n              userId\n              data\n              timestamp\n            }\n        }`,\n        variables: {},\n      });\n\n      const config: AxiosRequestConfig = {\n        method: \"post\",\n        url: \"http://localhost:4000/graphql\",\n        headers: {\n          Authorization: `Bearer ${store.get(\"token\", \"\")}`,\n          \"Content-Type\": \"application/json\",\n        },\n        data: dataQ,\n      };\n\n      const response: AxiosResponse<IAddCommentResponse> = await axios(config);\n      return response.data.data.addComment;\n    } catch (error) {\n      return new Error(error.response.data.errors[0].message);\n    }\n  }\n}\n","import React from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport RowFluid from \"../../global-component/RowFluid\";\nimport { Depths } from \"@uifabric/fluent-theme/lib/fluent/FluentDepths\";\nimport { PostServices, IPost } from \"../../../services/PostServices\";\n\nimport FeedBlock from \"../../global-component/feed-block/FeedBlock\";\nimport { RouteComponentProps, Redirect } from \"react-router-dom\";\nimport UIButton from \"../../global-component/UIButton\";\nimport CommentBlock from \"../../global-component/comment-block/CommentBlock\";\nimport CommentServices from \"../../../services/CommentServices\";\n\nimport store from \"store\";\nimport { AuthService, IUser } from \"../../../services/AuthServices\";\n\ntype IParam = {\n  postId: string;\n};\n\ninterface ISingleStates {\n  id: number;\n  data?: IPost;\n  error?: Error;\n  commentText: string;\n  user?: IUser;\n}\n\nclass Single extends React.Component<\n  RouteComponentProps<IParam>,\n  ISingleStates\n> {\n  constructor(props: RouteComponentProps<IParam>) {\n    super(props);\n    this.state = {\n      id: Number.parseFloat(props.match.params.postId),\n      data: undefined,\n      error: undefined,\n      commentText: \"\",\n      user: undefined,\n    };\n    this.handleBack = this.handleBack.bind(this);\n    this.handleNewComment = this.handleNewComment.bind(this);\n    this.handleTextChange = this.handleTextChange.bind(this);\n    this.getUser = this.getUser.bind(this);\n    window.onscroll = () => {\n      const header = document.getElementById(\"header\");\n      if (header) {\n        if (window.pageYOffset - 30 > header.offsetTop) {\n          header.classList.add(\"stick\");\n        } else {\n          header.classList.remove(\"stick\");\n        }\n      }\n    };\n  }\n\n  componentDidMount(): void {\n    document.title = \"Post - Groupomania\";\n    this.getUser();\n    this.getData(this.state.id);\n  }\n\n  async getData(id: number): Promise<void> {\n    const result = await PostServices.getPost(id);\n    if (result instanceof Error) {\n      this.setState({ error: result });\n    } else {\n      this.setState({ data: result });\n    }\n  }\n  async getUser(): Promise<void> {\n    const result = await AuthService.getUser(store.get(\"user\", \"\"));\n    if (result instanceof Error) {\n      this.setState({ error: result });\n    } else {\n      this.setState({ user: result });\n    }\n  }\n\n  renderData(): JSX.Element | null {\n    const e = this.state.data;\n    if (e) {\n      const check =\n        typeof this.state.user !== \"undefined\" &&\n        (this.state.user.authorization === 1 ||\n          this.state.user.username === e.user.username);\n      return (\n        <FeedBlock\n          history={this.props.history}\n          showButton={{\n            edit: check,\n            comment: false,\n            delete: check,\n          }}\n          id={e.id}\n          user={e.user}\n          title={e.title}\n          data={e.data}\n          url={e.url}\n          type={e.type}\n          timestamp={e.timestamp}\n          categorie={e.categorie}\n        />\n      );\n    }\n    if (this.state.error) {\n      return <Redirect to=\"/404\" />;\n    }\n    return null;\n  }\n  renderComment(): JSX.Element[] | null {\n    const e = this.state.data;\n    if (e) {\n      const comments: JSX.Element[] = [];\n      if (e.comments) {\n        for (let i = 0; i < e.comments.length; i++) {\n          const c = e.comments[i];\n          comments.push(<CommentBlock key={i} {...c} />);\n        }\n        return comments;\n      }\n    }\n    return null;\n  }\n\n  handleBack(): void {\n    this.props.history.push(\"/\");\n  }\n  handleTextChange(e: React.ChangeEvent<HTMLTextAreaElement>): void {\n    this.setState({ commentText: e.target.value });\n  }\n  async handleNewComment(): Promise<void> {\n    if (this.state.data) {\n      const username: string = store.get(\"user\", \"\");\n      const result = await CommentServices.addComment(\n        username,\n        this.state.data.id,\n        this.state.commentText\n      );\n      if (result instanceof Error) {\n        this.setState({ error: result });\n      } else {\n        const temp = this.state.data;\n        temp.comments?.push(result);\n        this.setState({ data: temp, commentText: \"\" });\n      }\n    }\n  }\n\n  render(): JSX.Element {\n    return (\n      <Container fluid className=\"p-0\">\n        <RowFluid>\n          <Container\n            fluid\n            className=\"ac-block align-middle\"\n            style={{ boxShadow: Depths.depth8 }}\n            id=\"header\"\n          >\n            <Row className=\"justify-content-center\">\n              <div className=\"col-4 p-0\">\n                <UIButton\n                  text=\"Back\"\n                  onClick={this.handleBack}\n                  className=\"m-0 col-8\"\n                ></UIButton>\n              </div>\n              <h1 className=\"col-8 p-0 text-justify m-0 align-vertical\">\n                Groupomania\n              </h1>\n            </Row>\n          </Container>\n        </RowFluid>\n        <div style={{ marginTop: \"4vh\" }}></div>\n        {this.renderData()}\n        <RowFluid>\n          <Container\n            fluid\n            className=\"ac-block mx-auto my-1 align-middle\"\n            style={{ boxShadow: Depths.depth8 }}\n          >\n            <Row className=\"justify-content-center\">\n              <label htmlFor=\"comment\" className=\"font-weight-bolder\">\n                Vous souhaiter réagire ?{\" \"}\n              </label>\n            </Row>\n            <Row className=\"justify-content-center\">\n              <textarea\n                className=\"col-8\"\n                id=\"comment\"\n                onChange={this.handleTextChange}\n                value={this.state.commentText}\n                placeholder=\"Texte (3-300 character)\"\n              ></textarea>\n            </Row>\n            <Row className=\"justify-content-center\">\n              <UIButton\n                text=\"Envoyer\"\n                className=\"col-8\"\n                onClick={this.handleNewComment}\n              />\n            </Row>\n          </Container>\n        </RowFluid>\n        {this.renderComment()}\n      </Container>\n    );\n  }\n}\n\nexport default Single;\n","import React, { Component } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport Container from \"react-bootstrap/Container\";\nimport RowFluid from \"../global-component/RowFluid\";\nimport Row from \"react-bootstrap/Row\";\nimport { Depths } from \"@uifabric/fluent-theme/lib/fluent/FluentDepths\";\nimport UIButton from \"../global-component/UIButton\";\nimport { AuthService } from \"../../services/AuthServices\";\nimport Alert from \"react-bootstrap/Alert\";\nimport store from \"store\";\nimport Col from \"react-bootstrap/Col\";\n\ntype IParam = {\n  username: string;\n};\ntype IProfileProps = RouteComponentProps<IParam>;\ninterface IProfileState {\n  error?: Error;\n  username: string;\n  authorization: number;\n}\n\nclass Profile extends Component<IProfileProps, IProfileState> {\n  /**\n   *\n   */\n  constructor(props: IProfileProps) {\n    super(props);\n    this.state = {\n      error: undefined,\n      username: props.match.params.username,\n      authorization: 0,\n    };\n    this.handleBack = this.handleBack.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n  }\n  componentDidMount(): void {\n    this.getAuthorization();\n    document.title = \"Profile - Groupomania\";\n  }\n  async getAuthorization(): Promise<void> {\n    const result = await AuthService.getUser(this.state.username);\n    if (result instanceof Error) {\n      this.setState({ error: result });\n    } else {\n      this.setState({ authorization: result.authorization });\n    }\n  }\n  renderAuthorization(authorization: number): string {\n    switch (authorization) {\n      case 1:\n        return \"Moderateur\";\n\n      default:\n        return \"Utilisateur\";\n    }\n  }\n  renderData(): JSX.Element[] | JSX.Element {\n    if (!this.state.error) {\n      return [\n        <Row key={0} className=\"justify-content-center\">\n          <p className=\"col-12 col-sm-3 font-weight-bolder\">Utilisateur :</p>\n          <p className=\"col-sm-3\">{this.state.username}</p>\n        </Row>,\n        <Row key={1} className=\"justify-content-center\">\n          <p className=\"col-12 col-sm-3 font-weight-bolder\">Status :</p>\n          <p className=\"col-sm-3\">\n            {this.renderAuthorization(this.state.authorization)}\n          </p>\n        </Row>,\n      ];\n    } else {\n      return (\n        <Row className=\"justify-content-center\">\n          <Alert variant=\"danger\">{this.state.error.message}</Alert>\n        </Row>\n      );\n    }\n  }\n  handleBack(): void {\n    this.props.history.push(\"/\");\n  }\n  handleLogOut(): void {\n    store.remove(\"user\");\n    store.remove(\"token\");\n    store.set(\"isAuth\", false);\n    window.location.replace(\"/\");\n  }\n  async handleDelete(): Promise<void> {\n    const result = await AuthService.delUser(this.state.username);\n    if (result instanceof Error) {\n      this.setState({ error: result });\n    } else {\n      if (result) {\n        this.props.history.push(\"/\");\n      } else {\n        this.setState({ error: new Error(\"Une erreur c'est produite.\") });\n      }\n    }\n    this.handleLogOut();\n  }\n\n  render(): JSX.Element {\n    return (\n      <Container fluid className=\"p-0\">\n        <RowFluid>\n          <Container\n            fluid\n            className=\"ac-block align-middle\"\n            style={{ boxShadow: Depths.depth8 }}\n          >\n            <Row className=\"justify-content-center\">\n              <div className=\"col-4 p-0\">\n                <UIButton\n                  text=\"Back\"\n                  onClick={this.handleBack}\n                  className=\"m-0 col-8\"\n                ></UIButton>\n              </div>\n              <h1 className=\"col-8 p-0 text-justify m-0 align-vertical\">\n                Profile\n              </h1>\n            </Row>\n          </Container>\n        </RowFluid>\n        <div style={{ marginTop: \"4vh\" }}></div>\n        <RowFluid>\n          <Container\n            fluid\n            className=\"ac-block mx-auto my-1 align-middle\"\n            style={{ boxShadow: Depths.depth8 }}\n          >\n            {this.renderData()}\n          </Container>\n        </RowFluid>\n        <RowFluid>\n          <Container\n            fluid\n            className=\"ac-block mx-auto my-1 align-middle\"\n            style={{ boxShadow: Depths.depth8 }}\n          >\n            {(this.state.username === store.get(\"user\", \"\") && (\n              <Row className=\"justify-content-center\">\n                <Col sm={6}>\n                  <UIButton\n                    text=\"Deconnexion\"\n                    className=\"col-8\"\n                    onClick={this.handleLogOut}\n                  />\n                </Col>\n                <Col sm={6}>\n                  <UIButton\n                    text=\"Supprimer votre compte\"\n                    className=\"col-8\"\n                    onClick={this.handleDelete}\n                  />\n                </Col>\n              </Row>\n            )) ||\n              null}\n          </Container>\n        </RowFluid>\n      </Container>\n    );\n  }\n}\n\nexport default Profile;\n","import React, { Component } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport UIButton from \"../global-component/UIButton\";\nimport { Depths } from \"@uifabric/fluent-theme/lib/fluent/FluentDepths\";\n\ntype Props = RouteComponentProps;\n\nclass Page404 extends Component<Props> {\n  constructor(props: Props) {\n    super(props);\n    this.handleBack = this.handleBack.bind(this);\n  }\n  componentDidMount(): void {\n    document.title = \"Page 404\";\n  }\n  handleBack(): void {\n    this.props.history.push(\"/\");\n  }\n  render(): JSX.Element {\n    return (\n      <Container\n        className=\"ac-block align-vertical\"\n        style={{ boxShadow: Depths.depth8 }}\n      >\n        <Row>\n          <Container className=\"align-vertical\">\n            <Row className=\"justify-content-center\">\n              <h1 className=\"h1\">404</h1>\n            </Row>\n            <Row className=\"justify-content-center\">\n              <h2>Page not found</h2>\n            </Row>\n            <Row className=\"justify-content-center\">\n              <UIButton\n                text=\"Retour\"\n                className=\"col-8\"\n                onClick={this.handleBack}\n              />\n            </Row>\n          </Container>\n        </Row>\n      </Container>\n    );\n  }\n}\n\nexport default Page404;\n","import React from \"react\";\nimport \"./App.css\";\nimport Auth from \"./component/auth/Auth\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  Redirect,\n} from \"react-router-dom\";\nimport Home from \"./component/feed/Home\";\nimport { FeedBlockCategorie } from \"./models/FeedBlock\";\nimport ProtectedRoute from \"./component/global-component/protected-route/ProtectedRoute\";\nimport store from \"store\";\nimport { IAuthServiceResponse } from \"./services/AuthServices\";\nimport Single from \"./component/feed/single/Single\";\nimport Profile from \"./component/profile/Profile\";\nimport FeedBlockFrom from \"./component/feed-block-form/FeedBlockForm\";\nimport Page404 from \"./component/404/404\";\nimport {\n  ApolloClient,\n  NormalizedCacheObject,\n  InMemoryCache,\n  ApolloProvider,\n} from \"@apollo/client\";\n\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\ninterface IAppProps {}\ninterface IAppStates {\n  token: string;\n  isAuth: boolean;\n  username: string;\n  client: ApolloClient<NormalizedCacheObject>;\n}\n\nclass App extends React.Component<IAppProps, IAppStates> {\n  constructor(props: IAppProps) {\n    super(props);\n    this.state = {\n      //TEMP FIX\n      token: store.get(\"token\", \"\"),\n      isAuth: store.get(\"isAuth\", false),\n      username: store.get(\"user\", \"\"),\n      client: new ApolloClient<NormalizedCacheObject>({\n        uri: \"http://localhost:4000/graphql\",\n        cache: new InMemoryCache(),\n      }),\n    };\n    this.handleAuth = this.handleAuth.bind(this);\n  }\n  handleAuth(response: IAuthServiceResponse): void {\n    //TEMP FIX\n    store.set(\"token\", response.token);\n    store.set(\"isAuth\", true);\n    store.set(\"user\", response.username);\n    this.setState({\n      token: response.token,\n      isAuth: true,\n      username: response.username,\n    });\n    window.location.replace(\"/\");\n  }\n  render(): JSX.Element {\n    return (\n      <ApolloProvider client={this.state.client}>\n        <Router>\n          <Switch>\n            <Route\n              exact\n              path=\"/auth\"\n              render={(props) => <Auth {...props} onAuth={this.handleAuth} />}\n            ></Route>\n            <Route\n              exact\n              path=\"/\"\n              render={(props) => (\n                <ProtectedRoute isAuth={this.state.isAuth} path=\"/auth\">\n                  <Home\n                    {...props}\n                    setDefaultTab={FeedBlockCategorie.Favoris}\n                  ></Home>\n                </ProtectedRoute>\n              )}\n            ></Route>\n            <Route\n              path=\"/post/:postId\"\n              render={(props) => (\n                <ProtectedRoute isAuth={this.state.isAuth} path=\"/auth\">\n                  <Single {...props} />\n                </ProtectedRoute>\n              )}\n            ></Route>\n            <Route\n              exact\n              path=\"/newPost\"\n              render={(props) => (\n                <ProtectedRoute isAuth={this.state.isAuth} path=\"/auth\">\n                  <FeedBlockFrom mode={1} {...props} />\n                </ProtectedRoute>\n              )}\n            ></Route>\n            <Route\n              exact\n              path=\"/editPost/:postId\"\n              render={(props) => (\n                <ProtectedRoute isAuth={this.state.isAuth} path=\"/auth\">\n                  <FeedBlockFrom mode={0} {...props} />\n                </ProtectedRoute>\n              )}\n            ></Route>\n            <Route path=\"/profile/:username\" component={Profile}></Route>\n            <Route path=\"/404\" component={Page404}></Route>\n            <Redirect to=\"/404\" />\n          </Switch>\n        </Router>\n      </ApolloProvider>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"./index.css\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/user-solid.a617dfb6.svg\";"],"sourceRoot":""}